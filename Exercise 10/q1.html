<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>23BCE1160</title>
</head>
<body>
    <h2>Patient Data</h2>
    <button onclick="sortData()">Sort by Age (Descending)</button>
    <br><br>
    <label>Enter P-Id to Search: </label>
    <input type="number" id="searchId">
    <button onclick="searchPatient()">Search</button>
    <br><br>
    <label>Filter Patients Older Than: </label>
    <input type="number" id="filterAge">
    <button onclick="filterPatients()">Filter</button>
    <br><br>
    <table border="1" id="patientTable">
        <thead>
            <tr>
                <th>P-Id</th>
                <th>Name</th>
                <th>Age</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
    
    <script>
        let patients = [
            { id: 1, name: "Alen", age: 39 },
            { id: 2, name: "Deena", age: 47 },
            { id: 3, name: "Diana", age: 21 },
            { id: 4, name: "Jack", age: 54 },
            { id: 5, name: "Jain", age: 23 },
            { id: 6, name: "Kelvin", age: 61 },
            { id: 7, name: "Louis", age: 69 },
            { id: 8, name: "Rex", age: 49 }
        ];
        
        function displayData(data) {
            let tableBody = document.querySelector("#patientTable tbody");
            tableBody.innerHTML = "";
            data.forEach(patient => {
                let row = `<tr>
                    <td>${patient.id}</td>
                    <td>${patient.name}</td>
                    <td>${patient.age}</td>
                </tr>`;
                tableBody.innerHTML += row;
            });
        }
        
        function sortData() {
            patients.sort((a, b) => b.age - a.age);
            displayData(patients);
        }
        
        function searchPatient() {
            let searchId = parseInt(document.getElementById("searchId").value);
            let found = patients.find(patient => patient.id === searchId);
            alert(found ? `Patient Found: ${found.name}, Age: ${found.age}` : "P-Id not found");
        }
        
        function filterPatients() {
            let filterAge = parseInt(document.getElementById("filterAge").value);
            let filtered = patients.filter(patient => patient.age > filterAge);
            displayData(filtered);
        }
        
        window.onload = () => displayData(patients);
    </script>
</body>
</html>
